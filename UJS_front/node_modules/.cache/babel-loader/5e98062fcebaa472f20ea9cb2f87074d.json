{"remainingRequest":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\src\\components\\homecomponents\\MyComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\src\\components\\homecomponents\\MyComment.vue","mtime":1561698585374},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"MyComment\",\n  data: function data() {\n    return {\n      content: '',\n      comments: [],\n      src: require(\"../../assets/img/commentHead.png\")\n    };\n  },\n  computed: {\n    currentUser: function currentUser() {\n      return this.$store.state.user;\n    }\n  },\n  methods: {\n    getTime: function getTime(timeStamp) {\n      timeStamp = timeStamp * 1000;\n      var date = new Date(timeStamp);\n      return date.toLocaleDateString().replace(/\\//g, \"-\") + \" \" + date.toTimeString().substr(0, 8);\n    },\n    submit: function submit() {\n      var _this = this;\n\n      var comment = {\n        \"userName\": this.currentUser,\n        \"content\": this.content,\n        \"time\": Math.round(new Date() / 1000)\n      };\n      this.axios.post(\"http://localhost:8080/comment\", comment).then(function (response) {\n        if (response != null) {\n          _this.axios.get(\"http://localhost:8080/comment\").then(function (respons) {\n            _this.comments = respons.data;\n          });\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.axios.get(\"http://localhost:8080/comment\").then(function (respons) {\n      _this2.comments = respons.data;\n    });\n  }\n};",{"version":3,"sources":["MyComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,OAAA;AAHA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,SADA,EACA;AACA,MAAA,SAAA,GAAA,SAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,SAAA,CAAA;AACA,aAAA,IAAA,CAAA,kBAAA,GAAA,OAAA,CAAA,KAAA,EAAA,GAAA,IAAA,GAAA,GAAA,IAAA,CAAA,YAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,KALA;AAOA,IAAA,MAPA,oBAOA;AAAA;;AACA,UAAA,OAAA,GAAA;AACA,oBAAA,KAAA,WADA;AAEA,mBAAA,KAAA,OAFA;AAGA,gBAAA,IAAA,CAAA,KAAA,CAAA,IAAA,IAAA,KAAA,IAAA;AAHA,OAAA;AAKA,WAAA,KAAA,CAAA,IAAA,CAAA,+BAAA,EAAA,OAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,+BAAA,EAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,OAAA,CAAA,IAAA;AACA,WAFA;AAGA;AACA,OANA;AAOA;AApBA,GAfA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,+BAAA,EAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,OAAA,CAAA,IAAA;AACA,KAFA;AAGA;AAzCA,CAAA","sourcesContent":["<template>\r\n    <div v-show=\"currentUser!='游客'\">\r\n        <!--文本框-->\r\n        <div class=\"row\">\r\n            <div class=\"col-11\">\r\n                <textarea class=\"form-control h-100\" cols=\"80\" rows=\"3\" v-model=\"content\"\r\n                          placeholder=\"请自觉遵守互联网相关政策法规，严禁发布色情，暴力，反动言论。\">\r\n            </textarea>\r\n            </div>\r\n            <div class=\"col-1\">\r\n                <button @click=\"submit\" class=\"btn btn-secondary h-100\">发表评论</button>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <!--显示评论区-->\r\n        <div class=\"container \">\r\n            <div v-show=\"index<5\" v-bind:key=\"comment.time\" v-for=\"(comment,index) in comments\">\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-2 \">\r\n                        <div>\r\n                            <img v-bind:src=\"src\" height=\"40px\" alt=\"\">\r\n                        </div>\r\n                        {{comment.userName}}\r\n                    </div>\r\n                    <div class=\"col-10 border\">{{comment.content}}</div>\r\n                </div>\r\n                <div class=\"row justify-content-end\">\r\n                    <div class=\"col-10 text-muted text-right small\">{{ getTime(comment.time) }}</div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"MyComment\",\r\n        data() {\r\n            return {\r\n                content: '',\r\n                comments: [],\r\n                src: require('../../assets/img/commentHead.png')\r\n\r\n            }\r\n        },\r\n        computed: {\r\n            currentUser() {\r\n                return this.$store.state.user;\r\n            }\r\n        },\r\n        methods: {\r\n            getTime(timeStamp) {\r\n                timeStamp = timeStamp * 1000;\r\n                var date = new Date(timeStamp);\r\n                return date.toLocaleDateString().replace(/\\//g, \"-\") + \" \" + date.toTimeString().substr(0, 8);\r\n            }\r\n            ,\r\n            submit() {\r\n                var comment = {\r\n                    \"userName\": this.currentUser,\r\n                    \"content\": this.content,\r\n                    \"time\": Math.round(new Date() / 1000),\r\n                }\r\n                this.axios.post(\"http://localhost:8080/comment\", comment).then(response => {\r\n                    if (response != null) {\r\n                        this.axios.get(\"http://localhost:8080/comment\").then(respons => {\r\n                            this.comments = respons.data;\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            this.axios.get(\"http://localhost:8080/comment\").then(respons => {\r\n                this.comments = respons.data;\r\n            })\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /* placeholder字体大小  */\r\n    textarea::-webkit-input-placeholder {\r\n        font-size: 13px;\r\n    }\r\n\r\n    div {\r\n        white-space: normal;\r\n        word-break: break-all;\r\n        word-wrap: break-word;\r\n    }\r\n</style>"],"sourceRoot":"src/components/homecomponents"}]}