{"remainingRequest":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\src\\components\\homecomponents\\MyComment.vue?vue&type=style&index=0&id=19268bae&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\src\\components\\homecomponents\\MyComment.vue","mtime":1561698585374},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15985\\IdeaProjects\\Vue\\src\\vuepro\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* placeholder字体大小  */\ntextarea::-webkit-input-placeholder {\n    font-size: 13px;\n}\n\ndiv {\n    white-space: normal;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n",{"version":3,"sources":["MyComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"MyComment.vue","sourceRoot":"src/components/homecomponents","sourcesContent":["<template>\r\n    <div v-show=\"currentUser!='游客'\">\r\n        <!--文本框-->\r\n        <div class=\"row\">\r\n            <div class=\"col-11\">\r\n                <textarea class=\"form-control h-100\" cols=\"80\" rows=\"3\" v-model=\"content\"\r\n                          placeholder=\"请自觉遵守互联网相关政策法规，严禁发布色情，暴力，反动言论。\">\r\n            </textarea>\r\n            </div>\r\n            <div class=\"col-1\">\r\n                <button @click=\"submit\" class=\"btn btn-secondary h-100\">发表评论</button>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <!--显示评论区-->\r\n        <div class=\"container \">\r\n            <div v-show=\"index<5\" v-bind:key=\"comment.time\" v-for=\"(comment,index) in comments\">\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"col-2 \">\r\n                        <div>\r\n                            <img v-bind:src=\"src\" height=\"40px\" alt=\"\">\r\n                        </div>\r\n                        {{comment.userName}}\r\n                    </div>\r\n                    <div class=\"col-10 border\">{{comment.content}}</div>\r\n                </div>\r\n                <div class=\"row justify-content-end\">\r\n                    <div class=\"col-10 text-muted text-right small\">{{ getTime(comment.time) }}</div>\r\n                </div>\r\n                <hr>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"MyComment\",\r\n        data() {\r\n            return {\r\n                content: '',\r\n                comments: [],\r\n                src: require('../../assets/img/commentHead.png')\r\n\r\n            }\r\n        },\r\n        computed: {\r\n            currentUser() {\r\n                return this.$store.state.user;\r\n            }\r\n        },\r\n        methods: {\r\n            getTime(timeStamp) {\r\n                timeStamp = timeStamp * 1000;\r\n                var date = new Date(timeStamp);\r\n                return date.toLocaleDateString().replace(/\\//g, \"-\") + \" \" + date.toTimeString().substr(0, 8);\r\n            }\r\n            ,\r\n            submit() {\r\n                var comment = {\r\n                    \"userName\": this.currentUser,\r\n                    \"content\": this.content,\r\n                    \"time\": Math.round(new Date() / 1000),\r\n                }\r\n                this.axios.post(\"http://localhost:8080/comment\", comment).then(response => {\r\n                    if (response != null) {\r\n                        this.axios.get(\"http://localhost:8080/comment\").then(respons => {\r\n                            this.comments = respons.data;\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            this.axios.get(\"http://localhost:8080/comment\").then(respons => {\r\n                this.comments = respons.data;\r\n            })\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /* placeholder字体大小  */\r\n    textarea::-webkit-input-placeholder {\r\n        font-size: 13px;\r\n    }\r\n\r\n    div {\r\n        white-space: normal;\r\n        word-break: break-all;\r\n        word-wrap: break-word;\r\n    }\r\n</style>"]}]}